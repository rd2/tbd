<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: PSI
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "PSI";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (P)</a> &raquo;
    
    
    <span class="title">PSI</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: PSI
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">PSI</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/tbd/psi.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Library of linear thermal bridges (e.g. corners, balconies). Each key:value entry requires a unique identifier e.g. “poor (BETBG)” and a (partial or complete) set of PSI-values in W/K per linear meter.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#has-instance_method" title="#has (instance method)">#<strong>has</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute has.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#set-instance_method" title="#set (instance method)">#<strong>set</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#val-instance_method" title="#val (instance method)">#<strong>val</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute val.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#append-instance_method" title="#append (instance method)">#<strong>append</strong>(p)  &#x21d2; Bool </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Append a new PSI set, based on a TBD JSON-formatted PSI set object - requires a valid, unique :id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#complete%3F-instance_method" title="#complete? (instance method)">#<strong>complete?</strong>(p)  &#x21d2; Bool </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Validate whether a stored PSI set has a complete list of PSI type:values.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#genShorthands-instance_method" title="#genShorthands (instance method)">#<strong>genShorthands</strong>(p)  &#x21d2; Bool </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generate PSI set shorthand listings - requires a valid, unique :id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>  &#x21d2; PSI </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Construct a new PSI library (with defaults).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#safeType-instance_method" title="#safeType (instance method)">#<strong>safeType</strong>(p, type)  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return safe PSI type if missing input from PSI set (relies on inheritance).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shorthands-instance_method" title="#shorthands (instance method)">#<strong>shorthands</strong>(p)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generate shorthand hash of PSI content (empty hashes if invalid ID).</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="PSI (class)">PSI</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Construct a new PSI library (with defaults)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tbd/psi.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='ivar'>@set</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@has</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@val</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='comment'># The following are default PSI values (* published, ** calculated). Users
</span>  <span class='comment'># may edit these sets, add new sets here, or read-in custom sets from a TBD
</span>  <span class='comment'># JSON input file. PSI units are in W/K per linear meter. The spandrel sets
</span>  <span class='comment'># are added as practical suggestions in early design stages.
</span>
  <span class='comment'># Convex vs concave PSI adjustments may be warranted if there is a mismatch
</span>  <span class='comment'># between dimensioning conventions (interior vs exterior) used for the OSM
</span>  <span class='comment'># vs published PSI data. For instance, the BETBG data reflects an interior
</span>  <span class='comment'># dimensioning convention, while ISO 14683 reports PSI values for both
</span>  <span class='comment'># conventions. The following may be used to adjust BETBG PSI values for
</span>  <span class='comment'># convex corners when using outside dimensions for an OSM.
</span>  <span class='comment'>#
</span>  <span class='comment'># PSIe = PSIi + U * 2(Li-Le), where:
</span>  <span class='comment'>#   PSIe = adjusted PSI                                          (W/K per m)
</span>  <span class='comment'>#   PSIi = initial published PSI                                 (W/K per m)
</span>  <span class='comment'>#      U = average clear field U-factor of adjacent walls           (W/m2.K)
</span>  <span class='comment'>#     Li = from interior corner to edge of &quot;zone of influence&quot;           (m)
</span>  <span class='comment'>#     Le = from exterior corner to edge of &quot;zone of influence&quot;           (m)
</span>  <span class='comment'>#
</span>  <span class='comment'>#  Li-Le = wall thickness e.g., -0.25m (negative here as Li &lt; Le)
</span>  <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>poor (BETBG)</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span>
  <span class='lbrace'>{</span>
    <span class='label'>rimjoist:</span>      <span class='float'>1.000</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>parapet:</span>       <span class='float'>0.800</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>fenestration:</span>  <span class='float'>0.500</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>corner:</span>        <span class='float'>0.850</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>balcony:</span>       <span class='float'>1.000</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>party:</span>         <span class='float'>0.850</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>grade:</span>         <span class='float'>0.850</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>joint:</span>         <span class='float'>0.300</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>transition:</span>    <span class='float'>0.000</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>               <span class='comment'># based on INTERIOR dimensions (p.15 BETBG)
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_genShorthands'>genShorthands</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>poor (BETBG)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>regular (BETBG)</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span>
  <span class='lbrace'>{</span>
    <span class='label'>rimjoist:</span>      <span class='float'>0.500</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>parapet:</span>       <span class='float'>0.450</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>fenestration:</span>  <span class='float'>0.350</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>corner:</span>        <span class='float'>0.450</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>balcony:</span>       <span class='float'>0.500</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>party:</span>         <span class='float'>0.450</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>grade:</span>         <span class='float'>0.450</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>joint:</span>         <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>transition:</span>    <span class='float'>0.000</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>               <span class='comment'># based on INTERIOR dimensions (p.15 BETBG)
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_genShorthands'>genShorthands</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>regular (BETBG)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>efficient (BETBG)</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span>
  <span class='lbrace'>{</span>
    <span class='label'>rimjoist:</span>      <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>parapet:</span>       <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>fenestration:</span>  <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>corner:</span>        <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>balcony:</span>       <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>party:</span>         <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>grade:</span>         <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>joint:</span>         <span class='float'>0.100</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>transition:</span>    <span class='float'>0.000</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>               <span class='comment'># based on INTERIOR dimensions (p.15 BETBG)
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_genShorthands'>genShorthands</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>efficient (BETBG)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>spandrel (BETBG)</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span>
  <span class='lbrace'>{</span>
    <span class='label'>rimjoist:</span>      <span class='float'>0.615</span><span class='comma'>,</span> <span class='comment'># * Detail 1.2.1
</span>    <span class='label'>parapet:</span>       <span class='float'>1.000</span><span class='comma'>,</span> <span class='comment'># * Detail 1.3.2
</span>    <span class='label'>fenestration:</span>  <span class='float'>0.000</span><span class='comma'>,</span> <span class='comment'># * ... generally part of clear-field RSi
</span>    <span class='label'>corner:</span>        <span class='float'>0.425</span><span class='comma'>,</span> <span class='comment'># * Detail 1.4.1
</span>    <span class='label'>balcony:</span>       <span class='float'>1.110</span><span class='comma'>,</span> <span class='comment'># * Detail 8.1.9/9.1.6
</span>    <span class='label'>party:</span>         <span class='float'>0.990</span><span class='comma'>,</span> <span class='comment'># ** ... similar to parapet/balcony
</span>    <span class='label'>grade:</span>         <span class='float'>0.880</span><span class='comma'>,</span> <span class='comment'># * Detail 2.5.1
</span>    <span class='label'>joint:</span>         <span class='float'>0.500</span><span class='comma'>,</span> <span class='comment'># * Detail 3.3.2
</span>    <span class='label'>transition:</span>    <span class='float'>0.000</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>               <span class='comment'># &quot;conventional&quot;, closer to window wall spandrels
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_genShorthands'>genShorthands</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>spandrel (BETBG)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>spandrel HP (BETBG)</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span>
  <span class='lbrace'>{</span>
    <span class='label'>rimjoist:</span>      <span class='float'>0.170</span><span class='comma'>,</span> <span class='comment'># * Detail 1.2.7
</span>    <span class='label'>parapet:</span>       <span class='float'>0.660</span><span class='comma'>,</span> <span class='comment'># * Detail 1.3.2
</span>    <span class='label'>fenestration:</span>  <span class='float'>0.000</span><span class='comma'>,</span> <span class='comment'># * ... generally part of clear-field RSi
</span>    <span class='label'>corner:</span>        <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># * Detail 1.4.2
</span>    <span class='label'>balcony:</span>       <span class='float'>0.400</span><span class='comma'>,</span> <span class='comment'># * Detail 9.1.15
</span>    <span class='label'>party:</span>         <span class='float'>0.500</span><span class='comma'>,</span> <span class='comment'># ** ... similar to parapet/balcony
</span>    <span class='label'>grade:</span>         <span class='float'>0.880</span><span class='comma'>,</span> <span class='comment'># * Detail 2.5.1
</span>    <span class='label'>joint:</span>         <span class='float'>0.140</span><span class='comma'>,</span> <span class='comment'># * Detail 7.4.2
</span>    <span class='label'>transition:</span>    <span class='float'>0.000</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>               <span class='comment'># &quot;good&quot; to &quot;high performance&quot; curtainwall spandrels
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_genShorthands'>genShorthands</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>spandrel HP (BETBG)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>code (Quebec)</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='comment'># NECB-QC (code-compliant) defaults:
</span>  <span class='lbrace'>{</span>
    <span class='label'>rimjoist:</span>      <span class='float'>0.300</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>parapet:</span>       <span class='float'>0.325</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>fenestration:</span>  <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>corner:</span>        <span class='float'>0.300</span><span class='comma'>,</span> <span class='comment'># ** &quot;regular (BETBG)&quot;, adjusted for ext. dimension
</span>    <span class='label'>balcony:</span>       <span class='float'>0.500</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>party:</span>         <span class='float'>0.450</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>grade:</span>         <span class='float'>0.450</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>joint:</span>         <span class='float'>0.200</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>transition:</span>    <span class='float'>0.000</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>               <span class='comment'># based on EXTERIOR dimensions (art. 3.1.1.6)
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_genShorthands'>genShorthands</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>code (Quebec)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>uncompliant (Quebec)</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='comment'># NECB-QC (non-code-compliant) defaults:
</span>  <span class='lbrace'>{</span>
    <span class='label'>rimjoist:</span>      <span class='float'>0.850</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>parapet:</span>       <span class='float'>0.800</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>fenestration:</span>  <span class='float'>0.500</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>corner:</span>        <span class='float'>0.850</span><span class='comma'>,</span> <span class='comment'># ** ... not stated
</span>    <span class='label'>balcony:</span>       <span class='float'>1.000</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>party:</span>         <span class='float'>0.850</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>grade:</span>         <span class='float'>0.850</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>joint:</span>         <span class='float'>0.500</span><span class='comma'>,</span> <span class='comment'># *
</span>    <span class='label'>transition:</span>    <span class='float'>0.000</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>               <span class='comment'># based on EXTERIOR dimensions (art. 3.1.1.6)
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_genShorthands'>genShorthands</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>uncompliant (Quebec)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(non thermal bridging)</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='comment'># ... would not derate surfaces:
</span>  <span class='lbrace'>{</span>
    <span class='label'>rimjoist:</span>      <span class='float'>0.000</span><span class='comma'>,</span>
    <span class='label'>parapet:</span>       <span class='float'>0.000</span><span class='comma'>,</span>
    <span class='label'>fenestration:</span>  <span class='float'>0.000</span><span class='comma'>,</span>
    <span class='label'>corner:</span>        <span class='float'>0.000</span><span class='comma'>,</span>
    <span class='label'>balcony:</span>       <span class='float'>0.000</span><span class='comma'>,</span>
    <span class='label'>party:</span>         <span class='float'>0.000</span><span class='comma'>,</span>
    <span class='label'>grade:</span>         <span class='float'>0.000</span><span class='comma'>,</span>
    <span class='label'>joint:</span>         <span class='float'>0.000</span><span class='comma'>,</span>
    <span class='label'>transition:</span>    <span class='float'>0.000</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_genShorthands'>genShorthands</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(non thermal bridging)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="has-instance_method">
  
    #<strong>has</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute has.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


74
75
76</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tbd/psi.rb', line 74</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has'>has</span>
  <span class='ivar'>@has</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="set-instance_method">
  
    #<strong>set</strong>  &#x21d2; <tt>Hash</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>PSI set</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>shorthand listing of PSI types in a set</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>shorthand listing of PSI values in a set</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tbd/psi.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set'>set</span>
  <span class='ivar'>@set</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="val-instance_method">
  
    #<strong>val</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute val.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tbd/psi.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_val'>val</span>
  <span class='ivar'>@val</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="append-instance_method">
  
    #<strong>append</strong>(p)  &#x21d2; <tt>Bool</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Append a new PSI set, based on a TBD JSON-formatted PSI set object - requires a valid, unique :id.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>p</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A (identifier):(PSI set) pair</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Bool</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns true if successful in appending PSI set</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tbd/psi.rb', line 346</span>

<span class='kw'>def</span> <span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="TBD.html" title="TBD (module)">TBD</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="TBD.html#log-class_method" title="TBD.log (method)">log</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="TBD.html" title="TBD (module)">TBD</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TBD.html#ERROR-constant" title="TBD::ERROR (constant)">ERROR</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can&#39;t append invalid PSI set - skipping</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:id</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="TBD.html" title="TBD (module)">TBD</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="TBD.html#log-class_method" title="TBD.log (method)">log</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="TBD.html" title="TBD (module)">TBD</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TBD.html#ERROR-constant" title="TBD::ERROR (constant)">ERROR</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Missing PSI set ID - skipping</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="TBD.html" title="TBD (module)">TBD</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="TBD.html#log-class_method" title="TBD.log (method)">log</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="TBD.html" title="TBD (module)">TBD</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TBD.html#ERROR-constant" title="TBD::ERROR (constant)">ERROR</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can&#39;t override &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; PSI set  - skipping</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='comment'># Most PSI types have concave and convex variants, depending on the polar
</span>  <span class='comment'># position of deratable surfaces around an edge-as-thermal-bridge. One
</span>  <span class='comment'># exception is :fenestration, which TBD later breaks down into :head, :sill
</span>  <span class='comment'># or :jamb edge types. Another exception is a :joint edge, a PSI type that
</span>  <span class='comment'># is not autoassigned to an edge (i.e., only via a TBD JSON input file).
</span>  <span class='comment'># Finally, transitions are autoassigned by TBD precively when an edge is
</span>  <span class='comment'># &quot;flat&quot; i.e., no noticeable polar angle difference between surfaces.
</span>  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>        <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>        <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:rimjoist</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconcave</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconcave</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:rimjoistconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconvex</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconvex</span><span class='rbracket'>]</span>  <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:rimjoistconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>         <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>         <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:parapet</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:parapetconcave</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:parapetconcave</span><span class='rbracket'>]</span>  <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:parapetconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:parapetconvex</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:parapetconvex</span><span class='rbracket'>]</span>   <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:parapetconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:head</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:headconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:headconcave</span><span class='rbracket'>]</span>     <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:headconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:headconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:headconvex</span><span class='rbracket'>]</span>      <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:headconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:sill</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:sillconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:sillconcave</span><span class='rbracket'>]</span>     <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:sillconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:sillconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:sillconvex</span><span class='rbracket'>]</span>      <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:sillconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:jamb</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:jambconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:jambconcave</span><span class='rbracket'>]</span>     <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:jambconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:jambconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:jambconvex</span><span class='rbracket'>]</span>      <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:jambconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>          <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>          <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:corner</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:cornerconcave</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:cornerconcave</span><span class='rbracket'>]</span>   <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:cornerconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:cornerconvex</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:cornerconvex</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:cornerconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>         <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>         <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:balcony</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:balconyconcave</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:balconyconcave</span><span class='rbracket'>]</span>  <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:balconyconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:balconyconvex</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:balconyconvex</span><span class='rbracket'>]</span>   <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:balconyconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>           <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>           <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:party</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:partyconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:partyconcave</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:partyconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:partyconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:partyconvex</span><span class='rbracket'>]</span>     <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:partyconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>           <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>           <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:grade</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:gradeconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:gradeconcave</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:gradeconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:gradeconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:gradeconvex</span><span class='rbracket'>]</span>     <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:gradeconvex</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:fenestration</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:joint</span><span class='rbracket'>]</span>           <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:joint</span><span class='rbracket'>]</span>           <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:joint</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:transition</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:transition</span><span class='rbracket'>]</span>      <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:transition</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:joint</span><span class='rbracket'>]</span>           <span class='op'>=</span> <span class='float'>0.000</span> <span class='kw'>unless</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:joint</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='symbol'>:transition</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='float'>0.000</span> <span class='kw'>unless</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:transition</span><span class='rparen'>)</span>

  <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_genShorthands'>genShorthands</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="complete?-instance_method">
  
    #<strong>complete?</strong>(p)  &#x21d2; <tt>Bool</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Validate whether a stored PSI set has a complete list of PSI type:values.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>p</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A PSI set identifier</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Bool</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns true if stored and has a complete PSI set</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tbd/psi.rb', line 428</span>

<span class='kw'>def</span> <span class='id identifier rubyid_complete?'>complete?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@has</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@val</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="TBD.html" title="TBD (module)">TBD</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="TBD.html#log-class_method" title="TBD.log (method)">log</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="TBD.html" title="TBD (module)">TBD</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TBD.html#ERROR-constant" title="TBD::ERROR (constant)">ERROR</a></span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can&#39;t find </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='embexpr_end'>}</span><span class='tstring_content'> PSI set (and assess if it&#39;s &#39;complete&#39;) - skipping</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_holes'>holes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_holes'>holes</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:head</span> <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_holes'>holes</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:sill</span> <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_holes'>holes</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:jamb</span> <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_ok'>ok</span> <span class='op'>=</span> <span class='id identifier rubyid_holes'>holes</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>3</span>
  <span class='id identifier rubyid_ok'>ok</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ok'>ok</span>

  <span class='id identifier rubyid_corners'>corners</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_corners'>corners</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:concave</span> <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:cornerconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_corners'>corners</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:convex</span>  <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:cornerconvex</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_ok'>ok</span> <span class='op'>=</span> <span class='id identifier rubyid_corners'>corners</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>2</span>
  <span class='id identifier rubyid_ok'>ok</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ok'>ok</span>

  <span class='id identifier rubyid_parapets'>parapets</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_parapets'>parapets</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:concave</span> <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:parapetconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_parapets'>parapets</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:convex</span>  <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:parapetconvex</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_ok'>ok</span> <span class='op'>=</span> <span class='id identifier rubyid_parapets'>parapets</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>2</span>
  <span class='id identifier rubyid_ok'>ok</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ok'>ok</span>

  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_ok'>ok</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="genShorthands-instance_method">
  
    #<strong>genShorthands</strong>(p)  &#x21d2; <tt>Bool</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generate PSI set shorthand listings - requires a valid, unique :id.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>p</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A PSI set identifier</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Bool</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns true if successful in generating PSI set shorthands</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tbd/psi.rb', line 223</span>

<span class='kw'>def</span> <span class='id identifier rubyid_genShorthands'>genShorthands</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="TBD.html" title="TBD (module)">TBD</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="TBD.html#log-class_method" title="TBD.log (method)">log</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="TBD.html" title="TBD (module)">TBD</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TBD.html#DEBUG-constant" title="TBD::DEBUG (constant)">DEBUG</a></span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can&#39;t generate PSI type shorthands with &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; - skipping</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:joint</span><span class='rbracket'>]</span>           <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:joint</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:transition</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:transition</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:fenestration</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:head</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:headconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:headconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:headconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:headconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:sill</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:sillconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:sillconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:sillconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:sillconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:jamb</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:jambconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:jambconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:jambconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:jambconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>          <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:corner</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:cornerconcave</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:cornerconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:cornerconvex</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:cornerconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>         <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:parapet</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:partyconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:parapetconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:parapetconvex</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:parapetconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>           <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:party</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:partyconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:partyconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:partyconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:partyconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>           <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:grade</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:gradeconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:gradeconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:gradeconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:gradeconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>         <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:balcony</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:balconyconcave</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:balconyconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:balconyconvex</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:balconyconvex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>        <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:rimjoist</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconcave</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:rimjoistconcave</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconvex</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:rimjoistconvex</span><span class='rparen'>)</span>
  <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span>

  <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:joint</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:transition</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:headconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:headconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sillconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sillconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jambconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jambconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:cornerconcave</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:cornerconvex</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapetconcave</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapetconvex</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:partyconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:partyconvex</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:gradeconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:gradeconvex</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:balconyconcave</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:balconyconvex</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconcave</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>0</span><span class='semicolon'>;</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconvex</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:joint</span><span class='rbracket'>]</span>           <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:joint</span><span class='rbracket'>]</span>           <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:joint</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:transition</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:transition</span><span class='rbracket'>]</span>      <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:transition</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:headconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:headconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sillconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sillconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jambconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jambconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:fenestration</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:headconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:headconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sillconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sillconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:sill</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>            <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jambconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jambconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>            <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:jamb</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:headconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:headconcave</span><span class='rbracket'>]</span>     <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:headconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:headconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:headconvex</span><span class='rbracket'>]</span>      <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:headconvex</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sillconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:sillconcave</span><span class='rbracket'>]</span>     <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:sillconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:sillconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:sillconvex</span><span class='rbracket'>]</span>      <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:sillconvex</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jambconcave</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:jambconcave</span><span class='rbracket'>]</span>     <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:jambconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:jambconvex</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:jambconvex</span><span class='rbracket'>]</span>      <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:jambconvex</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>          <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>          <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:cornerconcave</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>          <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:cornerconvex</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>          <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:corner</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:cornerconcave</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:cornerconcave</span><span class='rbracket'>]</span>   <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:cornerconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:cornerconvex</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:cornerconvex</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:cornerconvex</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>         <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>         <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapetconcave</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>         <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapetconvex</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>         <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapetconcave</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:parapetconcave</span><span class='rbracket'>]</span>  <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:parapetconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapetconvex</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:parapetconvex</span><span class='rbracket'>]</span>   <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:parapetconvex</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>           <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>           <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:partyconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>           <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:partyconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>           <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:party</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:partyconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:partyconcave</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:partyconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:partyconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:partyconvex</span><span class='rbracket'>]</span>     <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:partyconvex</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>           <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>           <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:gradeconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>           <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:gradeconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>           <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:grade</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:gradeconcave</span><span class='rbracket'>]</span>    <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:gradeconcave</span><span class='rbracket'>]</span>    <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:gradeconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:gradeconvex</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:gradeconvex</span><span class='rbracket'>]</span>     <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:gradeconvex</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>         <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>         <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:balconyconcave</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>         <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:balconyconvex</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>         <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:balcony</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:balconyconcave</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:balconyconcave</span><span class='rbracket'>]</span>  <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:balconyconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:balconyconvex</span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:balconyconvex</span><span class='rbracket'>]</span>   <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:balconyconvex</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>        <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>        <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconcave</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>        <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconvex</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>        <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:rimjoist</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconcave</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconcave</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconcave</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconvex</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='ivar'>@set</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconvex</span><span class='rbracket'>]</span>  <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='symbol'>:rimjoistconvex</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_max'>max</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapetconcave</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapetconvex</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_max'>max</span> <span class='kw'>unless</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='symbol'>:parapet</span><span class='rbracket'>]</span>
  <span class='ivar'>@val</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="safeType-instance_method">
  
    #<strong>safeType</strong>(p, type)  &#x21d2; <tt>Symbol</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return safe PSI type if missing input from PSI set (relies on inheritance).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>p</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A PSI set identifier</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>PSI type e.g., :rimjoistconcave</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns safe type; nil if none were found</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tbd/psi.rb', line 471</span>

<span class='kw'>def</span> <span class='id identifier rubyid_safeType'>safeType</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ok'>ok</span> <span class='op'>=</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tt'>tt</span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span>
  <span class='id identifier rubyid_tt'>tt</span> <span class='op'>=</span> <span class='id identifier rubyid_tt'>tt</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tt'>tt</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Symbol</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_tt'>tt</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_tt_concave'>tt_concave</span> <span class='op'>=</span> <span class='id identifier rubyid_tt'>tt</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>concave</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tt_convex'>tt_convex</span>  <span class='op'>=</span> <span class='id identifier rubyid_tt'>tt</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>convex</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tt'>tt</span> <span class='op'>=</span> <span class='id identifier rubyid_tt'>tt</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>concave</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='kw'>if</span> <span class='id identifier rubyid_tt_concave'>tt_concave</span>
    <span class='id identifier rubyid_tt'>tt</span> <span class='op'>=</span> <span class='id identifier rubyid_tt'>tt</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>convex</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>  <span class='kw'>if</span> <span class='id identifier rubyid_tt_convex'>tt_convex</span>
    <span class='kw'>unless</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_tt'>tt</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_tt'>tt</span> <span class='op'>=</span> <span class='symbol'>:fenestration</span> <span class='kw'>if</span> <span class='id identifier rubyid_tt'>tt</span> <span class='op'>==</span> <span class='symbol'>:head</span>
      <span class='id identifier rubyid_tt'>tt</span> <span class='op'>=</span> <span class='symbol'>:fenestration</span> <span class='kw'>if</span> <span class='id identifier rubyid_tt'>tt</span> <span class='op'>==</span> <span class='symbol'>:sill</span>
      <span class='id identifier rubyid_tt'>tt</span> <span class='op'>=</span> <span class='symbol'>:fenestration</span> <span class='kw'>if</span> <span class='id identifier rubyid_tt'>tt</span> <span class='op'>==</span> <span class='symbol'>:jamb</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_tt'>tt</span> <span class='kw'>if</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_tt'>tt</span><span class='rbracket'>]</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shorthands-instance_method">
  
    #<strong>shorthands</strong>(p)  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generate shorthand hash of PSI content (empty hashes if invalid ID).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>p</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A PSI set identifier</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns true/false statements as to PSI content</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns implicitly calculated or explicitly-set PSI values</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


415
416
417
418
419
420</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tbd/psi.rb', line 415</span>

<span class='kw'>def</span> <span class='id identifier rubyid_shorthands'>shorthands</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='ivar'>@has</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='ivar'>@val</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Dec 13 12:13:56 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-2.7.2).
</div>

    </div>
  </body>
</html>