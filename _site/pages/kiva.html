<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/assets/css/style.css?v=870febd2b583b3fff3f0737972620bcd6754eb4a">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>KIVA | TBD</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="KIVA" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Thermal Bridging &amp; Derating" />
<meta property="og:description" content="Thermal Bridging &amp; Derating" />
<link rel="canonical" href="http://localhost:4000/pages/kiva.html" />
<meta property="og:url" content="http://localhost:4000/pages/kiva.html" />
<meta property="og:site_name" content="TBD" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="KIVA" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Thermal Bridging &amp; Derating","headline":"KIVA","url":"http://localhost:4000/pages/kiva.html"}</script>
<!-- End Jekyll SEO tag -->

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>KIVA</h1>
          <h2>Thermal Bridging & Derating</h2>
        </header>
        <section id="downloads" class="clearfix">
          
          <a href="https://github.com/rd2/tbd/releases/download/v3.4.4/tbd.zip" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/rd2/tbd/releases/download/v3.4.4/tbd.tar.gz" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          
	
        </section>
        <hr>
        <section id="main_content">
          <h3 id="kiva"><a href="https://bigladdersoftware.com/epx/docs/24-1/engineering-reference/ground-heat-transfer-calculations-using-kiva.html">KIVA</a></h3>

<p>A specialized library that accurately - and very efficiently - handles foundation heat transfer within EnergyPlus. For designers, it offers several practical features that make it a one-stop solution for most projects:</p>

<ul>
  <li>multiple insulation configurations</li>
  <li>custom thermal breaks, e.g. around slab edges</li>
  <li>sloped terrain &amp; walk-out basements</li>
</ul>

<p>Only a few <em>hard</em> limitations prevent its systematic use by designers, notably KIVA’s current inability to integrate <a href="https://github.com/NREL/EnergyPlus/issues/6576">radiant slab</a> heating or cooling. The <em>softer</em> challenges of using KIVA have more to do with managing inputs (especially with highly-articulate building configurations) - this is where TBD comes into play.</p>

<h3 id="openstudio"><a href="#openstudio">OpenStudio</a></h3>

<p>The OpenStudio SDK indeed offers access to <a href="https://openstudio-sdk-documentation.s3.amazonaws.com/cpp/OpenStudio-3.8.0-doc/model/html/classopenstudio_1_1model_1_1_foundation_kiva.html">KIVA inputs</a>, yet unfortunately this is not widely supported by third-party apps based on the SDK - including the <em>OpenStudio Application</em> itself. In a nutshell, TBD supports OpenStudio users interested in using KIVA by automatically generating valid KIVA inputs behind the scenes. For most cases, relying on the <em>Apply Measures Now</em> mode is recommended - it’s likely that TBD’s default insulation configurations (see below) will need some manual tweaking before launching an EnergyPlus simulation. To tweak TBD-generated KIVA inputs, it’s important to CHECK the <strong>Alter OpenStudio model</strong> option under <a href="./launch.html#apply-measures-now" title="Launching TBD as a process">Apply Measures Now</a>, while selecting the “(non thermal bridging)” option (see <em>Menu Options</em> below).</p>

<p><strong>Settings</strong>: The very first thing TBD does is populate an OpenStudio model with a template for KIVA <a href="https://openstudio-sdk-documentation.s3.amazonaws.com/cpp/OpenStudio-3.8.0-doc/model/html/classopenstudio_1_1model_1_1_foundation_kiva_settings.html">settings</a> - like soil conductivity. This is usually not required (the default, autogenerated KIVA settings are fine), but their explicit inclusion in an OpenStudio model offers easy access to further tweak them by hand - if required.</p>

<p><strong>Foundations</strong>: KIVA requires that OpenStudio surfaces - tagged with “Foundation” as a boundary condition (slabs, basement walls) - reference new <em>KIVA foundation</em> objects in the OpenStudio model. This is not necessarily a one-to-one match - basement walls need to point to the same <em>foundation</em> object as the basement floor they’re connected to. So the second step TBD carries out is to autogenerate unique <em>KIVA foundation</em> objects per <em>foundation</em> floor surface, and then link up any <em>foundation</em> (basement) walls each floor surface is connected to. For fully-enclosed geometries, TBD keeps track of which individual wall is connected to which floor, and along which unique edge. This topological consistency - offered behind the scenes by Topolys - translates into time savings (as geometry <em>take-offs</em> are not required) and minimizes risk through automation.</p>

<p><strong>Exposed perimeters</strong>: Not done yet. KIVA may also require users to link aforementioned <em>KIVA foundation</em> objects to new <em>exposed foundation perimeter</em> objects. Imagine a project built on a sloped terrain, with its front entrance at street level, yet the back service entrance a full story below. The lower-level spaces may have basement floors, (front) basement walls, (side) <em>interzone</em> partitions, and finally (back) walls facing the outdoor air. KIVA allows for such complexity, yet requires from users the total length of slab edges along both outdoor-facing and basement walls. Just as TBD automatically links basement walls to the right <em>KIVA foundation</em> objects, TBD automatically generates new <em>exposed foundation perimeter</em> objects and correctly sets the right perimeter lengths - for fully-enclosed geometries. Again, this is a straightforward, behind-the-scenes operation as TBD already keeps track of each unique edge linking each outdoor-facing or basement wall to each slab - again, saving time and reducing risk through automation.</p>

<p><strong>Insulation configurations</strong>: TBD must make some initial guesswork when it comes to full or partial insulation coverage. For instance, TBD assumes that <em>foundation</em> (basement) walls already reference full-height, insulated constructions in OpenStudio. This may not be the case, as many (past) energy codes only required partial-height insulation of basement walls. For floors, TBD assumes that referenced constructions are not insulated at all. Yet for slab-on-grade cases, TBD does generate 2-ft (600 mm) of perimeter insulation (1-inch or 25.4 mm of XPS) for each corresponding <em>foundation</em> object. This is a typical circa-1980 slab-on-grade setup, which may also not reflect design intent. After autogenerating KIVA inputs (via TBD in <em>Apply Measures Now</em> mode), users may need to tweak an OpenStudio model (.osm file) using a text editor and modify autogenerated <em>KIVA foundation</em> objects (including insulation configurations) to correctly reflect design intent.</p>

<h3 id="menu-options"><a href="#kiva-menu-options">Menu options</a></h3>

<p>TBD offers 2 checkboxes to autogenerate KIVA inputs (see <a href="./settings.html#tbd-menu-options" title="TBD settings">Settings</a>), again ideally under <a href="./launch.html#apply-measures-now" title="Launching TBD as a process">Apply Measures Now</a> mode:</p>

<ul>
  <li>for surfaces only with “Foundation” boundary conditions</li>
  <li>for surfaces with either “Foundation” or “Ground” boundary conditions</li>
</ul>

<p>The latter is recommended for most cases - OpenStudio often sets “Ground” as outside boundary conditions for lower floor surfaces by default. TBD also provides a <strong>Purge existing KIVA inputs</strong> checkbox to ensure existing KIVA entries are first removed before adding new ones - EnergyPlus raises severe errors if duplicate KIVA entries are found.</p>

<p>Once KIVA inputs are permanently added to an OpenStudio model, and maybe subsequently altered by hand if needed, users can then safely run OpenStudio/EnergyPlus simulations - hopefully again with TBD handling <em>major</em>, above-grade thermal bridges.</p>

<p>One last (yet very important) point: when autogenerating KIVA inputs (to subsequently edit by hand) in <em>Apply Measures Now</em> mode with the <strong>Alter OpenStudio model</strong> option, users should ideally select the <strong>Default thermal bridge set</strong> “(non thermal bridging)”, which prevents TBD from <em>derating</em> any above-grade surfaces. It is usually not desirable to permanently <em>derate</em> opaque surfaces this way.</p>

<h3 id="btw"><a href="#btw">BTW</a></h3>

<p>KIVA support offered by TBD is loosely adapted from a published NREL simulation <a href="https://github.com/NREL/OpenStudio-resources/blob/develop/model/simulationtests/foundation_kiva.rb">test</a>, yet is generalized here to accommodate arbitrary model geometries.</p>

<p><a href="../index.html" title="Thermal Bridging &amp; Derating">HOME</a></p>

        </section>

        <footer>
        
          TBD is maintained by <a href="https://github.com/rd2">rd2</a><br>
        
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

      </div>
    </div>
  </body>
</html>
