<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/assets/css/style.css?v=09f1b769ff99531e36448fab5b9ce149a73f9621">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Customization | TBD</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Customization" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Thermal Bridging &amp; Derating" />
<meta property="og:description" content="Thermal Bridging &amp; Derating" />
<link rel="canonical" href="http://localhost:4000/pages/custom.html" />
<meta property="og:url" content="http://localhost:4000/pages/custom.html" />
<meta property="og:site_name" content="TBD" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Customization" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"Customization","description":"Thermal Bridging &amp; Derating","url":"http://localhost:4000/pages/custom.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Customization</h1>
          <h2>Thermal Bridging & Derating</h2>
        </header>
        <section id="downloads" class="clearfix">
          
          <a href="https://github.com/rd2/tbd/releases/download/v2.2.1/tbd.zip" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/rd2/tbd/releases/download/v2.2.1/tbd.tar.gz" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          
	
        </section>
        <hr>
        <section id="main_content">
          <h3 id="customization">Customization</h3>

<p>TBD offers a pull-down menu list of prepackaged <em>psi</em> sets - key for newcomers, especially in the early design stages (see <a href="./basics.html" title="Basic TBD workflow">Basics</a>). What happens when design choices aren’t well represented by any of these prepackaged sets? TBD allows users to define multiple custom <em>psi</em> sets, refine them beyond the basic 7 TBD <em>shorthands</em>, and attribute them to different parts of a building model.</p>

<p>As detailed in the <a href="./reports.html" title="What TBD reports back">Reporting</a> section, a unique <em>tbd.out.json</em> output file is generated (or regenerated) for every TBD run, under an OpenStudio model’s <em>files</em> folder. If one drops a <em>tbd.json</em> file in the same <em>files</em> folder and checks the <strong>Load ‘tbd.json’</strong> menu option, TBD will read in custom inputs defined in that file.</p>

<h3 id="custom-building-psi-set">Custom building <em>psi</em> set</h3>

<p>As a first example, consider the definition of a custom “building” <em>psi</em> set - instead of TBD’s pull-down menu options:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "schema": "https://github.com/rd2/tbd/blob/master/tbd.schema.json",
  "description": "Custom PSI set for a building",
  "psis":
  [
    {
      "id": "not bad",
      "rimjoist": 0.3,
      "parapet": 0.325,
      "fenestration": 0.35,
      "corner": 0.45,
      "balcony": 0.5,
      "party": 0.5,
      "grade": 0.45
    }
  ],
  "building":
  {
    "psi": "not bad"
  }
}
</code></pre></div></div>
<p><strong>SCHEMA</strong>: Let’s start with the tough part. TBD output &amp; input files are:</p>

<ul>
  <li>JSON formatted</li>
  <li>structured following a TBD-specific JSON <em>schema</em></li>
</ul>

<p><em>Schema</em>? See this as a set of coded instructions of:</p>

<ul>
  <li>what’s allowed as TBD input</li>
  <li>how this input should be JSON-formatted.</li>
</ul>

<p>Pretty much every compiled or assembled computer language has JSON functionality capable of reading in and validating JSON-formatted data. This ensures portability between machine architectures, computer languages and third-party software.</p>

<p>Currently, designers are yet to have access to online tools or BIM-integrated features that would help with JSON formatting and validating of TBD custom inputs. In the meantime, one can copy the content of TBD’s <a href="https://github.com/rd2/tbd/blob/master/tbd.schema.json">schema</a> and paste it in the left-side window of this free, online JSON <a href="https://jsonschemalint.com/#!/version/draft-04/markup/json">Linter</a>. Then copy the example <em>tbd.json</em> content above, and paste in the right-side window:</p>

<p><img src="../assets/images/schema.png" alt="JSON Linter" title="JSON Linter" /></p>

<p>… the Linter <em>messages</em> inform users of issues related to content, syntax and structure. Another option is to first generate a detailed <em>tbd.out.json</em> file (by checking the <strong>Write ‘tbd.out.json’</strong> option), renaming it as <em>tbd.json</em>, and customizing it directly. A combination of both options also works well.</p>

<p><strong>PSIs</strong>: In order to refer to a custom <em>psi</em> set, one must first define the custom set itself. TBD JSON “psis” each require a unique identifier (e.g. “not bad”), and the expected TBD shorthands (e.g. “parapet”) with their custom <em>psi</em> values (in W/K per meter). Note that the <em>joint</em> shorthand is optional: if one or more <em>transition</em> edges in a model are to become structural expansion <em>joints</em>, then the custom <em>psi</em> set should hold an additional <em>joint</em> entry.</p>

<p><strong>BUILDING</strong>: TBD allows a single “building” JSON entry, where one simply refers to one of the previously defined <em>psi</em> sets. This overrides the pull-down <strong>Default thermal bridge option</strong>.</p>

<h3 id="multiple-custom-psi-sets">Multiple custom <em>psi</em> sets</h3>

<p>OpenStudio allows users to define default construction sets for an entire building model, which means any new wall surface added to a model automatically inherits the default wall construction - very handy. OpenStudio also allows users to further refine the solution by allowing default construction sets per individual <em>building story</em> (e.g. ground floor surfaces vs the rest of the building), or on a <em>spacetype</em> basis (e.g. housing units vs common spaces), and so on … down to the individual surface.</p>

<p>TBD offers a mirror solution - custom <em>psi</em> sets:</p>

<ul>
  <li>for the OpenStudio building as a whole</li>
  <li>per OpenStudio story</li>
  <li>per OpenStudio spacetype</li>
  <li>per OpenStudio space</li>
  <li>per OpenStudio surface</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "schema": "https://github.com/rd2/tbd/blob/master/tbd.schema.json",
  "description": "Benchmark warehouse with custom spacetype psi sets",
  "psis":
  [
    {
      "id": "Warehouse Office",
      "parapet": 0.300,
      "corner": 0.300,
      "grade": 0.300
    },
    {
      "id": "Warehouse Fine",
      "parapet": 0.500,
      "corner": 0.500,
      "grade": 0.500
    }
  ],
  "building":
  {
    "psi": "regular (BETBG)"
  },
  "spacetypes":
  [
    {
      "id": "Warehouse Office",
      "psi": "Warehouse Office"
    },
    {
      "id": "Warehouse Fine",
      "psi": "Warehouse Fine"
    }
  ]
}
</code></pre></div></div>
<p>Successfully linking custom <em>psi</em> sets and OpenStudio objects relies on their unique (case-sensitive) <em>id</em>’s: here, “Warehouse Office” and “Warehouse Fine” are unique <em>spacetype</em> object identifiers in one’s OpenStudio model.</p>

<p>A few additional notes:</p>

<ul>
  <li>here, the “building” <em>psi</em> set refers to a TBD pull-down option</li>
  <li>therefore not necessary to define it as a custom <em>psi</em> set</li>
  <li>this nonetheless overrides the selected pull-down option</li>
  <li>except for “building”, custom <em>psi</em> sets can be <em>partial</em></li>
  <li>e.g. all <em>fenestration</em> edges inherit from the “building” set</li>
</ul>

<p>One can also customize individual edges (e.g. expansion <em>joints</em>), which do not have corresponding OpenStudio identified objects:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "schema": "https://github.com/rd2/tbd/blob/master/tbd.schema.json",
  "description": "Demonstrating a custom edge",
  "psis":
  [
    {
      "id": "custom edge",
      "fenestration": 0.600
    }
  ],
  "edges":
  [
    {
      "psi": "custom edge",
      "type": "fenestration",
      "surfaces":
      [
        "Office Front Wall",
        "Office Front Wall Window 1"
      ]
    }
  ]
}
</code></pre></div></div>
<h3 id="khi-inputs"><em>khi</em> inputs</h3>

<p>Cantilevered beams, columns, rooftop support blocks, etc. that partially or entirely traverse building envelope surfaces are best represented as point conductances, or <em>khi</em> values (in W/K per point). As there are no corresponding OpenStudio objects, TBD users must fall back onto custom surface attributes:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "schema": "https://github.com/rd2/tbd/blob/master/tbd.schema.json",
  "description": "Adding khi items",
  "khis":
  [
    {
      "id": "column",
      "point": 0.7
    },
    {
      "id": "support",
      "point": 0.5
    }
  ],
  "surfaces":
  [
    {
      "id": "exposed floor 1",
      "khis":
      [
        {
          "id": "column",
          "count": 10
        },
        {
          "id": "support",
          "count": 4
        }
      ]
    }
  ]
}
</code></pre></div></div>
<p>Here, the OpenStudio surface “exposed floor 1” will inherit 10x 0.7 W/K (= 7 W/K) + 4x 0.5 W/K (= 2 W/K): an extra 9 W/K, in addition to the total W/K per m from surrounding edges (i.e. linear thermal bridges) - automatically calculated by TBD.</p>

<h3 id="extended-shorthands">Extended <em>shorthands</em></h3>

<p>If one carefully examines a detailed <em>tbd.out.json</em> file, one will notice new or altered TBD <em>shorthands</em> for individual edges e.g., “jamb”, “sill” &amp; “head” instead of “fenestration”, as well as “concave” or “convex” variants e.g.:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "psi": "poor (BETBG)",
  "type": "jamb",
  "length": 2.13349595113502,
  "surfaces": [
    "Fine Storage Left Door",
    "Fine Storage Left Wall"
  ],
  "v0x": 0.0,
  "v0y": 20.2682115357827,
  "v0z": 2.13349595113502,
  "v1x": 0.0,
  "v1y": 20.2682115357827,
  "v1z": 0.0
},
...
{
  "psi": "poor (BETBG)",
  "type": "parapetconvex",
  "length": 70.10058125157889,
  "surfaces": [
    "Bulk Storage Right Wall",
    "Bulk Storage Roof"
  ],
  "v0x": 45.7177703814647,
  "v0y": 30.4785135876431,
  "v0z": 8.53398380454007,
  "v1x": 45.7177703814647,
  "v1y": 100.579094839222,
  "v1z": 8.53398380454007
},
</code></pre></div></div>
<p>Here, “type” designates one of the possible (extended) TBD <em>shorthands</em>. Users may have simply relied on a general “fenestration” <em>psi</em> value, TBD will nonetheless differentiate between fenestration <em>heads</em>, <em>jambs</em> and <em>sills</em>. In addition, TBD will add a “convex” or “concave” suffix to edges linking surfaces that aren’t on the same 3D plane. A simple, rectangular building would have a minimum of 4 <em>convex</em> parapets, but a one-story extension to a 2-story building would (also) have at least one <em>concave</em> parapet.</p>

<p>If one comes across published <em>psi</em> data that distinguishes between fenestration <em>heads</em>, <em>sills</em> and <em>jambs</em> (the BETBG does hold some examples), and/or differences between <em>convex</em> vs <em>concave</em> corners, then one could customize a <em>tbd.json</em> file as follows:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "schema": "https://github.com/rd2/tbd/blob/master/tbd.schema.json",
  "description": "Enhanced, custom PSI set for a building",
  "psis":
  [
    {
      "id": "not bad",
      "rimjoist": 0.3,
      "parapet": 0.325,
      "head": 0.35,
      "sill": 0.40,
      "jamb": 0.30,
      "cornerconcave": 0.45,
      "cornerconvex": 0.40,
      "balcony": 0.5,
      "party": 0.5,
      "grade": 0.45
    }
  ],
  "building":
  {
    "psi": "not bad"
  }
}
</code></pre></div></div>
<p>There are obviously many, many possible combinations. TBD’s GitHub repository contains several additional <a href="https://github.com/rd2/tbd/tree/master/json">examples</a>. Although this may at first seem complex and intimidating for the average designer or modeller, it remains similar to OpenStudio with regards to default construction sets: it can be very simple, and it only needs to be as complex as the actual design. With such freedom (with both OpenStudio and TBD inputs) comes responsibility - something users and modellers must carefully consider and plan out accordingly.</p>

<h3 id="a-side-note-on-dimensioning">A side note on dimensioning</h3>

<p>Envelope surfaces are usually modelled in OpenStudio based on <em>outer</em> dimensions (i.e. following the exterior cladding, as in ASHRAE 90.1 and Québec’s energy code), or on <em>inner</em> dimensions (i.e. following the interior finishing, as in the Canadian NECB). For most <em>flat</em> edges, this isn’t critical. But for concave or convex corners and parapets, adjustments to <em>psi</em> values may be warranted if there is a mismatch in conventions between the OpenStudio model vs published <em>psi</em> data. For instance, BETBG data reflect an <em>inner</em> dimensioning convention, while ISO 14683 reports <em>psi</em> values for both conventions. The following equation may be used to adjust BETBG <em>psi</em> values for e.g., convex corners, when relying on <em>outer</em> dimensions in OpenStudio.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PSIe = PSIi + Uo * 2(Li - Le), where:

PSIe = adjusted PSI (W/K per m), as TBD input
PSIi = published PSI value (W/K per m)
  Uo = average clear field effective U-value (W/K per m2)
  Li = from interior corner to "zone of influence" limits (m)
  Le = from exterior corner to "zone of influence" limits (m)
</code></pre></div></div>
<p>The <em>zone of influence</em> usually ranges between 1.0 to 1.2 meters. But the key parameter here is really the resulting wall thickness, and whether the sign is positive or negative - depending if it’s a convex or concave corner. In some cases, this may even produce negative <em>psi</em> values - which TBD allows. The BETBG and ISO standards provide detailed discussions on the subject.</p>

<p><a href="../index.html" title="Thermal Bridging &amp; Derating">back</a></p>

        </section>

        <footer>
        
          TBD is maintained by <a href="https://github.com/rd2">rd2</a><br>
        
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

      </div>
    </div>
  </body>
</html>
